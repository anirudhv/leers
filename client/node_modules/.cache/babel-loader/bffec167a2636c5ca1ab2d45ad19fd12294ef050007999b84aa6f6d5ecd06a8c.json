{"ast":null,"code":"'use strict';\n\nvar Writable = require('readable-stream').Writable;\nvar inherits = require('util').inherits;\nvar Promise = require('pinkie-promise');\nfunction BufferStream() {\n  Writable.call(this, {\n    objectMode: true\n  });\n  this.buffer = [];\n  this.length = 0;\n}\ninherits(BufferStream, Writable);\nBufferStream.prototype._write = function (chunk, enc, next) {\n  if (!Buffer.isBuffer(chunk)) {\n    chunk = new Buffer(chunk);\n  }\n  this.buffer.push(chunk);\n  this.length += chunk.length;\n  next();\n};\nmodule.exports = function read(stream, options, cb) {\n  if (!stream) {\n    throw new Error('stream argument is required');\n  }\n  if (typeof options === 'function') {\n    cb = options;\n    options = {};\n  }\n  if (typeof options === 'string' || options === undefined || options === null) {\n    options = {\n      encoding: options\n    };\n  }\n  if (options.encoding === undefined) {\n    options.encoding = 'utf8';\n  }\n  var promise;\n  if (!cb) {\n    var resolve, reject;\n    promise = new Promise(function (_res, _rej) {\n      resolve = _res;\n      reject = _rej;\n    });\n    cb = function (err, data) {\n      if (err) {\n        return reject(err);\n      }\n      resolve(data);\n    };\n  }\n  var sink = new BufferStream();\n  sink.on('finish', function () {\n    var data = Buffer.concat(this.buffer, this.length);\n    if (options.encoding) {\n      data = data.toString(options.encoding);\n    }\n    cb(null, data);\n  });\n  stream.once('error', cb);\n  stream.pipe(sink);\n  return promise;\n};","map":{"version":3,"names":["Writable","require","inherits","Promise","BufferStream","call","objectMode","buffer","length","prototype","_write","chunk","enc","next","Buffer","isBuffer","push","module","exports","read","stream","options","cb","Error","undefined","encoding","promise","resolve","reject","_res","_rej","err","data","sink","on","concat","toString","once","pipe"],"sources":["C:/Users/aniru/Documents/leers/node_modules/read-all-stream/index.js"],"sourcesContent":["'use strict';\n\nvar Writable = require('readable-stream').Writable;\nvar inherits = require('util').inherits;\nvar Promise = require('pinkie-promise');\n\nfunction BufferStream() {\n\tWritable.call(this, { objectMode: true });\n\tthis.buffer = [];\n\tthis.length = 0;\n}\n\ninherits(BufferStream, Writable);\nBufferStream.prototype._write = function(chunk, enc, next) {\n\tif (!Buffer.isBuffer(chunk)) {\n\t\tchunk = new Buffer(chunk);\n\t}\n\n\tthis.buffer.push(chunk);\n\tthis.length += chunk.length;\n\tnext();\n};\n\nmodule.exports = function read(stream, options, cb) {\n\tif (!stream) {\n\t\tthrow new Error('stream argument is required');\n\t}\n\n\tif (typeof options === 'function') {\n\t\tcb = options;\n\t\toptions = {};\n\t}\n\n\tif (typeof options === 'string' || options === undefined || options === null) {\n\t\toptions = { encoding: options };\n\t}\n\n\tif (options.encoding === undefined) { options.encoding = 'utf8'; }\n\n\tvar promise;\n\n\tif (!cb) {\n\t\tvar resolve, reject;\n\t\tpromise = new Promise(function(_res, _rej) {\n\t\t\tresolve = _res;\n\t\t\treject = _rej;\n\t\t});\n\n\t\tcb = function (err, data) {\n\t\t\tif (err) { return reject(err); }\n\t\t\tresolve(data);\n\t\t};\n\t}\n\n\tvar sink = new BufferStream();\n\n\tsink.on('finish', function () {\n\t\tvar data = Buffer.concat(this.buffer, this.length);\n\n\t\tif (options.encoding) {\n\t\t\tdata = data.toString(options.encoding);\n\t\t}\n\n\t\tcb(null, data);\n\t});\n\n\tstream.once('error', cb);\n\n\tstream.pipe(sink);\n\n\treturn promise;\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,QAAQ,GAAGC,OAAO,CAAC,iBAAiB,CAAC,CAACD,QAAQ;AAClD,IAAIE,QAAQ,GAAGD,OAAO,CAAC,MAAM,CAAC,CAACC,QAAQ;AACvC,IAAIC,OAAO,GAAGF,OAAO,CAAC,gBAAgB,CAAC;AAEvC,SAASG,YAAY,GAAG;EACvBJ,QAAQ,CAACK,IAAI,CAAC,IAAI,EAAE;IAAEC,UAAU,EAAE;EAAK,CAAC,CAAC;EACzC,IAAI,CAACC,MAAM,GAAG,EAAE;EAChB,IAAI,CAACC,MAAM,GAAG,CAAC;AAChB;AAEAN,QAAQ,CAACE,YAAY,EAAEJ,QAAQ,CAAC;AAChCI,YAAY,CAACK,SAAS,CAACC,MAAM,GAAG,UAASC,KAAK,EAAEC,GAAG,EAAEC,IAAI,EAAE;EAC1D,IAAI,CAACC,MAAM,CAACC,QAAQ,CAACJ,KAAK,CAAC,EAAE;IAC5BA,KAAK,GAAG,IAAIG,MAAM,CAACH,KAAK,CAAC;EAC1B;EAEA,IAAI,CAACJ,MAAM,CAACS,IAAI,CAACL,KAAK,CAAC;EACvB,IAAI,CAACH,MAAM,IAAIG,KAAK,CAACH,MAAM;EAC3BK,IAAI,EAAE;AACP,CAAC;AAEDI,MAAM,CAACC,OAAO,GAAG,SAASC,IAAI,CAACC,MAAM,EAAEC,OAAO,EAAEC,EAAE,EAAE;EACnD,IAAI,CAACF,MAAM,EAAE;IACZ,MAAM,IAAIG,KAAK,CAAC,6BAA6B,CAAC;EAC/C;EAEA,IAAI,OAAOF,OAAO,KAAK,UAAU,EAAE;IAClCC,EAAE,GAAGD,OAAO;IACZA,OAAO,GAAG,CAAC,CAAC;EACb;EAEA,IAAI,OAAOA,OAAO,KAAK,QAAQ,IAAIA,OAAO,KAAKG,SAAS,IAAIH,OAAO,KAAK,IAAI,EAAE;IAC7EA,OAAO,GAAG;MAAEI,QAAQ,EAAEJ;IAAQ,CAAC;EAChC;EAEA,IAAIA,OAAO,CAACI,QAAQ,KAAKD,SAAS,EAAE;IAAEH,OAAO,CAACI,QAAQ,GAAG,MAAM;EAAE;EAEjE,IAAIC,OAAO;EAEX,IAAI,CAACJ,EAAE,EAAE;IACR,IAAIK,OAAO,EAAEC,MAAM;IACnBF,OAAO,GAAG,IAAIvB,OAAO,CAAC,UAAS0B,IAAI,EAAEC,IAAI,EAAE;MAC1CH,OAAO,GAAGE,IAAI;MACdD,MAAM,GAAGE,IAAI;IACd,CAAC,CAAC;IAEFR,EAAE,GAAG,UAAUS,GAAG,EAAEC,IAAI,EAAE;MACzB,IAAID,GAAG,EAAE;QAAE,OAAOH,MAAM,CAACG,GAAG,CAAC;MAAE;MAC/BJ,OAAO,CAACK,IAAI,CAAC;IACd,CAAC;EACF;EAEA,IAAIC,IAAI,GAAG,IAAI7B,YAAY,EAAE;EAE7B6B,IAAI,CAACC,EAAE,CAAC,QAAQ,EAAE,YAAY;IAC7B,IAAIF,IAAI,GAAGlB,MAAM,CAACqB,MAAM,CAAC,IAAI,CAAC5B,MAAM,EAAE,IAAI,CAACC,MAAM,CAAC;IAElD,IAAIa,OAAO,CAACI,QAAQ,EAAE;MACrBO,IAAI,GAAGA,IAAI,CAACI,QAAQ,CAACf,OAAO,CAACI,QAAQ,CAAC;IACvC;IAEAH,EAAE,CAAC,IAAI,EAAEU,IAAI,CAAC;EACf,CAAC,CAAC;EAEFZ,MAAM,CAACiB,IAAI,CAAC,OAAO,EAAEf,EAAE,CAAC;EAExBF,MAAM,CAACkB,IAAI,CAACL,IAAI,CAAC;EAEjB,OAAOP,OAAO;AACf,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}